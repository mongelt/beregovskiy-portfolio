<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Management - Portfolio Admin</title>
    <link rel="stylesheet" href="shared-styles.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>Profile Management</h1>
            <nav class="admin-nav">
                <a href="index.html">Content</a>
                <a href="categories.html">Categories</a>
                <a href="profile.html" class="active">Profile</a>
                <a href="../index.html" class="btn-secondary">‚Üê Back to Portfolio</a>
            </nav>
        </header>

        <main class="admin-main">
            <!-- Personal Information Section -->
            <section class="admin-section">
                <h2>Personal Information</h2>
                
                <form id="personalInfoForm" class="admin-form">
                    <div class="form-group">
                        <label for="fullName">Full Name *</label>
                        <input type="text" id="fullName" required placeholder="Your Full Name">
                    </div>
                    
                    <div class="form-group">
                        <label for="jobTitle">Job Title *</label>
                        <input type="text" id="jobTitle" required placeholder="Reporter & Content Creator">
                    </div>
                    
                    <div class="form-group">
                        <label for="currentEmployer">Current Employer</label>
                        <input type="text" id="currentEmployer" placeholder="Your Media Company">
                    </div>
                    
                    <div class="form-group">
                        <label for="location">Location *</label>
                        <input type="text" id="location" required placeholder="City, State">
                    </div>
                    
                    <div class="form-group">
                        <label for="profileImage">Profile Image URL</label>
                        <input type="url" id="profileImage" placeholder="https://example.com/your-photo.jpg">
                        <small>Upload your photo to a hosting service, then paste the URL here</small>
                    </div>

                    <div class="form-divider">
                        <h3>Contact Information</h3>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="your.email@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="tel" id="phone" placeholder="+1 (555) 123-4567">
                    </div>
                    
                    <div class="form-group">
                        <label for="website">Personal Website</label>
                        <input type="url" id="website" placeholder="https://yourwebsite.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="linkedin">LinkedIn Profile</label>
                        <input type="url" id="linkedin" placeholder="https://linkedin.com/in/yourname">
                    </div>
                    
                    <div class="form-group">
                        <label for="twitter">Twitter/X Profile</label>
                        <input type="url" id="twitter" placeholder="https://twitter.com/yourhandle">
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Save Personal Information</button>
                    </div>
                </form>

                <div id="personalInfoStatus" class="message" style="display: none;"></div>
            </section>

            <!-- Bio & Professional Details Section -->
            <section class="admin-section">
                <h2>Professional Bio</h2>
                
                <form id="bioForm" class="admin-form">
                    <div class="form-group">
                        <label for="shortBio">Short Bio (collapsed header) *</label>
                        <textarea id="shortBio" required rows="3" placeholder="Brief professional summary that appears when the header is collapsed..."></textarea>
                        <small>Keep this concise - 1-2 sentences that capture your expertise</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="fullBio">Full Bio (expanded header)</label>
                        <textarea id="fullBio" rows="8" placeholder="Detailed professional biography that appears when header is expanded. You can use HTML tags like <p>, <strong>, <ul>, etc."></textarea>
                        <small>This can be longer and include achievements, experience, etc.</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="skills">Skills (comma-separated)</label>
                        <input type="text" id="skills" placeholder="Investigative Reporting, Breaking News, Video Production, Social Media">
                        <small>Separate each skill with a comma</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="languages">Languages (comma-separated)</label>
                        <input type="text" id="languages" placeholder="English (Native), Spanish (Fluent), French (Conversational)">
                        <small>Separate each language with a comma</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="education">Education</label>
                        <input type="text" id="education" placeholder="Bachelor's in Journalism, Master's in Communications">
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Save Bio & Details</button>
                    </div>
                </form>

                <div id="bioStatus" class="message" style="display: none;"></div>
            </section>

            <!-- Display Settings Section -->
            <section class="admin-section">
                <h2>Display Settings</h2>
                
                <form id="settingsForm" class="admin-form">
                    <div class="form-group">
                        <label>Contact Display Options</label>
                        <div style="display: flex; gap: 20px; margin-top: 10px; flex-wrap: wrap;">
                            <label style="font-weight: normal; display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="showEmail" checked> Show Email
                            </label>
                            <label style="font-weight: normal; display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="showPhone" checked> Show Phone
                            </label>
                            <label style="font-weight: normal; display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" id="showSocialMedia" checked> Show Social Media
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Save Display Settings</button>
                        <button type="button" class="btn-secondary" onclick="previewBusinessCard()">Preview on Main Site</button>
                    </div>
                </form>

                <div id="settingsStatus" class="message" style="display: none;"></div>
            </section>
        </main>
    </div>

    <script src="../content.js"></script>
    <script>
        // Load existing profile data into forms
        function loadProfileData() {
            const profile = getProfileData();
            
            // Load personal information
            if (profile.personalInfo) {
                document.getElementById('fullName').value = profile.personalInfo.fullName || '';
                document.getElementById('jobTitle').value = profile.personalInfo.jobTitle || '';
                document.getElementById('currentEmployer').value = profile.personalInfo.currentEmployer || '';
                document.getElementById('location').value = profile.personalInfo.location || '';
                document.getElementById('profileImage').value = profile.personalInfo.profileImage || '';
                document.getElementById('email').value = profile.personalInfo.email || '';
                document.getElementById('phone').value = profile.personalInfo.phone || '';
                document.getElementById('website').value = profile.personalInfo.website || '';
                document.getElementById('linkedin').value = profile.personalInfo.linkedin || '';
                document.getElementById('twitter').value = profile.personalInfo.twitter || '';
            }
            
            // Load bio information
            if (profile.bioInfo) {
                document.getElementById('shortBio').value = profile.bioInfo.shortBio || '';
                document.getElementById('fullBio').value = profile.bioInfo.fullBio || '';
                document.getElementById('skills').value = profile.bioInfo.skills ? profile.bioInfo.skills.join(', ') : '';
                document.getElementById('languages').value = profile.bioInfo.languages ? profile.bioInfo.languages.join(', ') : '';
                document.getElementById('education').value = profile.bioInfo.education || '';
            }
            
            // Load display settings
            if (profile.displaySettings) {
                document.getElementById('showEmail').checked = profile.displaySettings.showEmail !== false;
                document.getElementById('showPhone').checked = profile.displaySettings.showPhone !== false;
                document.getElementById('showSocialMedia').checked = profile.displaySettings.showSocialMedia !== false;
            }
        }

        // Save personal information
        document.getElementById('personalInfoForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const personalInfo = {
                fullName: document.getElementById('fullName').value.trim(),
                jobTitle: document.getElementById('jobTitle').value.trim(),
                currentEmployer: document.getElementById('currentEmployer').value.trim(),
                location: document.getElementById('location').value.trim(),
                profileImage: document.getElementById('profileImage').value.trim(),
                email: document.getElementById('email').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                website: document.getElementById('website').value.trim(),
                linkedin: document.getElementById('linkedin').value.trim(),
                twitter: document.getElementById('twitter').value.trim()
            };
            
            updateProfile('personalInfo', personalInfo);
            showStatus('personalInfoStatus', 'Personal information saved successfully!', 'success');
        });

        // Save bio and professional details
        document.getElementById('bioForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const bioInfo = {
                shortBio: document.getElementById('shortBio').value.trim(),
                fullBio: document.getElementById('fullBio').value.trim(),
                skills: document.getElementById('skills').value ? 
                    document.getElementById('skills').value.split(',').map(s => s.trim()).filter(s => s) : [],
                languages: document.getElementById('languages').value ? 
                    document.getElementById('languages').value.split(',').map(s => s.trim()).filter(s => s) : [],
                education: document.getElementById('education').value.trim()
            };
            
            updateProfile('bioInfo', bioInfo);
            showStatus('bioStatus', 'Bio and details saved successfully!', 'success');
        });

        // Save display settings
        document.getElementById('settingsForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const displaySettings = {
                headerHeight: 40,
                expandedHeight: 80,
                showEmail: document.getElementById('showEmail').checked,
                showPhone: document.getElementById('showPhone').checked,
                showSocialMedia: document.getElementById('showSocialMedia').checked
            };
            
            updateProfile('displaySettings', displaySettings);
            showStatus('settingsStatus', 'Display settings saved successfully!', 'success');
        });

        // Preview business card
        function previewBusinessCard() {
            window.open('../index.html', '_blank');
        }

        // Show status message
        function showStatus(elementId, message, type) {
            const statusDiv = document.getElementById(elementId);
            statusDiv.textContent = message;
            statusDiv.className = `message ${type}`;
            statusDiv.style.display = 'block';

            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 5000);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Profile page loaded, loading data...');
            loadProfileData();
            console.log('Profile page initialization complete!');
        });
    </script>
</body>
</html>